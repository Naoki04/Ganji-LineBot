# がんじぃデータベース設計

## ユーザデータベース(Users)
### 構成
- パーティションキー：user_id(String型) <- 一意性制約あり
- 属性1：timestamp(Number型) <- Unix時間
- 属性2：address(Number型) <- 市町村番号(下表を参照)
- 属性3：sex(Number型) <- 性別(男0, 女1, 他2)
- 属性4：birthday(String型) <- 例: '1999-03-09'(1999年3月9日)

### 操作
- 登録：put_data(user_id, (address), (sex), (birthday))
    - address, sex, birthdayはデフォルトnullで登録
- 変更：modify_data(user_id, (address), (sex), (birthday))
- 削除：delete_data(user_id)
- 取得：get_data(user_id)
- 発火(全ユーザ)：ignite_all()
    - 戻り値は辞書型
    - キー：user_id, 要素：[検診番号のリスト, URL]
    - 属性にnullが含まれる場合は, そのキーの要素がNone
- 発火(ユーザ指定)：ignite_one(user_id)
    - 戻り値はリスト
    - [検診番号のリスト, URL]
    - 属性にnullが含まれる場合は, 戻り値がNone

## 市町村データベース(Cities)
### 構成
- パーティションキー：address(Number型)
- 属性1：stomach(List型) <- 胃がん
- 属性2：lung(List型) <- 肺がん
- 属性3：colon(List型) <- 大腸がん
- 属性4：breast(List型) <- 乳がん
- 属性5：cervical(List型) <- 子宮頚がん
- 属性6：prostate(List型) <- 前立腺がん
- 属性7：oral(List型) <- 口腔がん
    - [開始年齢, 間隔年, 終了年齢]のリスト
    - 終了年齢がない場合は, 200
    - 未実施の検診は, [-1, -1, -1]
    - 途中で間隔年が変わる場合は, [開始年齢, 間隔年A, 終了年齢, 間隔が変わる年齢, 間隔年B]
- 属性8：calendar(Number型) <- 満年齢は0, 実年齢は1
- 属性9：url(String型) <- 市町村のホームページのURL

## 市町村番号
|  番号  |  市町村名  |
| ---- | ---- |
|  0  |  大阪市  |
|  1  |  堺市  |
|  2  |  岸和田市  |
|  3  |  豊中市  |
|  4  |  池田市  |
|  5  |  吹田市  |
|  6  |  泉大津市  |
|  7  |  高槻市  |
|  8  |  貝塚市  |
|  9  |  守口市  |
| 10  |  枚方市  |
| 11  |  茨木市  |
| 12  |  八尾市  |
| 13  |  泉佐野市  |
| 14  |  富田林市  |
| 15  |  寝屋川市  |
| 16  |  河内長野市  |
| 17  |  松原市  |
| 18  |  大東市  |
| 19  |  和泉市  |
| 20  |  箕面市  |
| 21  |  柏原市  |
| 22  |  羽曳野市  |
| 23  |  門真市  |
| 24  |  摂津市  |
| 25  |  高石市  |
| 26  |  藤井寺市  |
| 27  |  東大阪市  |
| 28  |  泉南市  |
| 29  |  四条畷市  |
| 30  |  交野市  |
| 31  |  大阪狭山市  |
| 32  |  阪南市  |
| 33  |  島本町  |
| 34  |  豊能町  |
| 35  |  能勢町  |
| 36  |  忠岡町  |
| 37  |  熊取町  |
| 38  |  田尻町  |
| 39  |  岬町  |
| 40  |  太子町  |
| 41  |  河南町  |
| 42  |  千早赤阪村  |
